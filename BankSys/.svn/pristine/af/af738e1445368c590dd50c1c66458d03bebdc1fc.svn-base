<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.teamone.dao.QueryPageMapper" >
  <resultMap id="BaseResultMap" type="com.teamone.entity.Bill" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 28 15:07:17 CST 2017.
    -->
    <id column="bill_id" property="billId" jdbcType="BIGINT" />
    <result column="account" property="account" jdbcType="VARCHAR" />
    <result column="transfer_id" property="transferId" jdbcType="BIGINT" />
    <result column="trade_date" property="tradeDate" jdbcType="DATE" />
    <result column="trade_type" property="tradeType" jdbcType="INTEGER" />
    <result column="trade_money" property="tradeMoney" jdbcType="DECIMAL" />
    <result column="balance" property="balance" jdbcType="DECIMAL" />
    <result column="currency" property="currency" jdbcType="VARCHAR" />
    <result column="teller_id" property="tellerId" jdbcType="INTEGER" />
  </resultMap>
  <select id="pageQuery" resultMap="BaseResultMap" >
  	select * from bill limit #{0},#{1}
  </select>
  <select id="totalrecord" resultType="int">
  	select count(*) from bill
  </select>
   <select id="pageQueryMore" resultMap="BaseResultMap" parameterType="java.util.Map">
  	select * from bill where 1=1
	 <if test="tradeType != null" >
        and trade_type like concat(concat('%',#{tradeType}),'%')
     </if>

     <if test="account != null" >
        and account like concat(concat('%',#{account}),'%')
     </if>
   
     <if test="tradeDate != null" >
        and trade_date like concat(concat('%',#{tradeDate}),'%')
     </if>
     <if test="maxmoney != null">
   		 	and trade_money &lt;= #{maxmoney}
   		 </if>
 	 <if test="minmoney != null">
 		 	and trade_money &gt;= #{minmoney}
 	 </if>
	 limit #{startindex},#{pagesize}
  </select>
  <select id="totalrecordMore" resultType="int">
  	select count(*) from bill where 1=1 
	 <if test="tradeType != null" >
        and trade_type like concat('%',#{tradeType},'%')
     </if>

     <if test="account != null" >
        and account like concat('%',#{account},'%')
     </if>
   
     <if test="tradeDate != null" >
        and trade_date like concat('%',#{tradeDate},'%')
     </if>
     <if test="maxmoney != null">
   		 	and trade_money &lt;= #{maxmoney}
   		 </if>
 	 <if test="minmoney != null">
 		 	and trade_money &gt;= #{minmoney}
 	 </if>
  </select>
</mapper>